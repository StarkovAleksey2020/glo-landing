(()=>{"use strict";const e=function(e){var t=document.getElementById(e),n=document.getElementById("form2-message");t.addEventListener("input",(function(e){var t=e.target.value;e.target.value=t.replace(/[^А-Яа-яЁё ]/g,"")})),n.addEventListener("input",(function(e){var t=e.target.value;e.target.value=t.replace(/[^А-Яа-яЁё 0-9.,\/#!$%\^&\*;:{}=\-_`~()]/g,"")}))},t=function(e){document.getElementById(e).addEventListener("input",(function(e){var t=e.target.value;e.target.value=t.replace(/[^0-9+]/g,"")}))};function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw c}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const r=function(e){var t=document.getElementById(e),o=document.createElement("div");o.style.cssText="font-size: 2rem",o.style.color="#FFFFFF",t.addEventListener("submit",(function(c){c.preventDefault(),t.appendChild(o),o.classList.add("loader");var i,l={},u=n(new FormData(t).entries());try{for(u.s();!(i=u.n()).done;){var s=i.value;l[s[0]]=s[1]}}catch(e){u.e(e)}finally{u.f()}a(l,(function(){o.classList.remove("loader"),o.textContent="Спасибо! Мы скоро с вами свяжемся!",r(e)}),(function(e){o.classList.remove("loader"),o.textContent="Что-то пошло не так ...",console.error(e)}))}));var r=function(e){var t,o=n(document.getElementById(e).getElementsByTagName("input"));try{for(o.s();!(t=o.n()).done;)t.value.value=""}catch(e){o.e(e)}finally{o.f()}},a=function(e,t,n){var o=new XMLHttpRequest;o.addEventListener("readystatechange",(function(){4===o.readyState&&(200===o.status?t():n(o.status))})),o.open("POST","./server.php"),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e))}};var a,c,i,l,u,s,d,m,f,v,y,p,g,h,E,L,S,b,q,A;S=document.querySelector("#timer-hours"),b=document.querySelector("#timer-minutes"),q=document.querySelector("#timer-seconds"),A=setInterval((function(){var e,t,n,o,r;e=(new Date("23 February 2021").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60),o=(o=Math.floor(e/60/60))<10?"0"+o:o,n=n<10?"0"+n:n,t=t<10?"0"+t:t,e<=0&&(t=n=o="00"),(r={timeRemaining:e,hours:o,minutes:n,seconds:t}).timeRemaining<=0&&clearInterval(A),S.textContent=r.hours,b.textContent=r.minutes,q.textContent=r.seconds}),1e3),E=document.querySelector("menu"),L=!1,document.addEventListener("click",(function(e){var t=e.target,n=t.closest(".menu"),o=t.classList.contains("close-btn"),r=t.closest("menu");n&&!L?(E.classList.toggle("active-menu"),L=!0):o||r&&L?(E.classList.toggle("active-menu"),L=!1):o||r||!L||(E.classList.toggle("active-menu"),L=!1)})),function(){var e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=0,o=screen.width;t.forEach((function(t){t.addEventListener("click",(function(){e.style.display="block",o>768&&(e.style.opacity=0,requestAnimationFrame(r),n=0)}))})),e.addEventListener("click",(function(t){var n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"))||(e.style.display="none")}));var r=function t(){requestAnimationFrame(t),++n/100<1&&(e.style.opacity=n/100)}}(),document.querySelectorAll("a[href]").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href").substr(1);"close"!==n&&""!==n&&document.getElementById(n).scrollIntoView({behavior:"smooth",block:"start"})}))})),p=document.querySelector(".service-header"),g=p.querySelectorAll(".service-header-tab"),h=document.querySelectorAll(".service-tab"),p.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&g.forEach((function(e,n){e===t&&function(e){for(var t=0;t<h.length;t++)h[t],e===t?(h[t].classList.add("active"),h[t].classList.remove("d-none")):(h[t].classList.remove("active"),h[t].classList.add("d-none"))}(n)}))})),function(){for(var e=document.querySelectorAll(".portfolio-item").length,t=document.querySelector(".portfolio-dots"),n=0;n<=e-1;n++){var o=document.createElement("li");o.classList.add("dot"),0===n&&o.classList.add("dot-active"),t.append(o)}}(),l=document.querySelectorAll(".portfolio-item"),document.querySelectorAll(".portfolio-btn"),u=document.querySelectorAll(".dot"),s=document.querySelector(".portfolio-content"),d=0,m=function(e,t,n){e[t].classList.remove(n)},f=function(e,t,n){e[t].classList.add(n)},v=function(){m(l,d,"portfolio-item-active"),m(u,d,"dot-active"),++d>=l.length&&(d=0),f(l,d,"portfolio-item-active"),f(u,d,"dot-active")},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;i=setInterval(v,e)},s.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(m(l,d,"portfolio-item-active"),m(u,d,"dot-active"),t.matches("#arrow-right")?d++:t.matches("#arrow-left")?d--:t.matches(".dot")&&u.forEach((function(e,n){e===t&&(d=n)})),d>=l.length&&(d=0),d<0&&(d=l.length-1),f(l,d,"portfolio-item-active"),f(u,d,"dot-active"))})),s.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(i)})),s.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&y()})),y(2e3),function(){var e=document.querySelectorAll(".command__photo");e.forEach((function(e){e.addEventListener("mouseover",(function(e){t(e)}))})),e.forEach((function(e){e.addEventListener("mouseout",(function(e){t(e)}))}));var t=function(e){var t=e.target.src;e.target.src=e.target.dataset.img,e.target.dataset.img=t}}(),document.querySelectorAll(".calc-item").forEach((function(e){e.addEventListener("input",(function(e){var t=e.target.value;e.target.value=t.replace(/\D/g,"")}))})),e("form1-name"),e("form2-name"),e("form3-name"),document.getElementById("form2-email").addEventListener("input",(function(e){var t=e.target.value;e.target.value=t.replace(/[^A-Za-z@\-_.!~*']/g,"")})),t("form1-phone"),t("form2-phone"),t("form3-phone"),a=document.getElementById("form2"),c=a.querySelectorAll("input"),a.addEventListener("blur",(function(e){validateFormFields("form2-name"),validateEmail(),validatePhone("form2-phone"),c.forEach((function(e){return formHandler(e)}))}),!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total"),i=function(){var t=0,i=1,l=1,u=n.options[n.selectedIndex].value/10,s=+o.value;r.value&&r.value<5?l*=2:r.value&&r.value>=5&&r.value<10&&(l*=1.5),a.value>1&&(i+=(a.value-1)/10),u&&s&&(t=u*s*e*i*l),c.textContent=t,setTimeout((function(){for(var e=function(e){setTimeout((function(){c.textContent=e}),e+.1)},n=0;n<=t;n++)e(n)}),1e3)};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&i()}))}(100),r("form1"),r("form2"),r("form3")})();